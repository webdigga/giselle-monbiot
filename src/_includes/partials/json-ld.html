{% macro schema() %}

  <script type="application/ld+json">

    {% if seoSchemaPageType == 'FAQPage' %}

      {# FAQPage JSON ld #}

      {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [{% if faqsData.faqs %}{% for faqsDataItem in faqsData.faqs %}
          {
            "@type": "Question",
            "name": "{{ faqsDataItem.question | safe }}",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "{{ faqsDataItem.answer | safe }}"
            }
          }{{ "" if loop.last else "," }}{% endfor %}{% endif %}
        ],
        "url": "{{ env.site }}/frequently-asked-questions-faqs/"
      }

    {% elseif seoSchemaPageType == 'Organization' %}

      {# Homepage JSON ld #}

      {
        "@context": "https://schema.org",
        "@graph": [
          {
            "@type": "WebPage",
            "@id": "{{ env.site }}/#webpage",
            "url": "{{ env.site }}/",
            "name": "{{ seoTitle | safe }}",
            "description": "{{ description }}",
            "inLanguage": "en-GB",
            "about": {
              "@id": "{{ env.site }}/#person"
            }
          },
          {
            "@type": "Person",
            "@id": "{{ env.site }}/#person",
            "name": "Giselle Monbiot",
            "url": "{{ env.site }}/about-giselle-monbiot-integrative-therapist-and-breathwork-facilitator/",
            "image": "{{ env.site }}/_includes/static/img/img_20240430_092540.avif",
            "description": "Giselle Monbiot is a breathwork therapist specialising in functional and conscious connected breath to support emotional wellbeing, resilience and personal transformation.",
            "sameAs": [
              "https://www.linkedin.com/in/giselle-monbiot/",
              "https://www.instagram.com/giselle.monbiot/",
              "https://www.youtube.com/channel/UConSx-QPpjDeS5k8R4XkZdg"
            ],
            "jobTitle": "Therapist & Breathwork Facilitator"
          },
          {
            "@type": "LocalBusiness",
            "@id": "{{ env.site }}/#business",
            "name": "Giselle Monbiot - Integrative Therapy & Breathwork",
            "description": "Integrative therapy and breathwork sessions in Kingston upon Thames, London. Specialising in trauma-informed therapy, conscious connected breathwork, and somatic healing.",
            "url": "{{ env.site }}/",
            "telephone": "{{ settings.phoneNumber }}",
            "email": "{{ settings.email }}",
            "address": {
              "@type": "PostalAddress",
              "addressLocality": "Kingston upon Thames",
              "addressRegion": "London",
              "addressCountry": "GB"
            },
            "geo": {
              "@type": "GeoCoordinates",
              "latitude": "51.4123",
              "longitude": "-0.3007"
            },
            "areaServed": ["Kingston upon Thames", "London", "Surrey", "Guildford"],
            "priceRange": "££",
            "openingHoursSpecification": {
              "@type": "OpeningHoursSpecification",
              "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
              "opens": "09:00",
              "closes": "18:00"
            }
          }
        ]
      }      

    {% elseif seoSchemaPageType == 'Event' %}

      {# Event JSON ld - skip for archived events #}

      {% if archived %}
      {
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "{{ title | safe }}",
        "description": "{{ description }}",
        "url": "{{ env.site }}/{{ title | slugify }}/"
      }
      {% else %}
      {
        "@context": "https://schema.org",
        "@type": "Event",
        "name": "{{ title | safe }}",
        "description": "{{ description }}",
        "image": "{% if cardImage %}{{ env.site }}{{ cardImage }}{% else %}{{ env.site }}/android-chrome-512x512.png{% endif %}",
        "url": "{{ env.site }}/{{ title | slugify }}/",
        {% if start_date %}"startDate": "{{ start_date | iso8601 }}",{% endif %}
        {% if end_date %}"endDate": "{{ end_date | iso8601 }}",{% endif %}
        {% if location %}"location": {
          "@type": "Place",
          "name": "{{ location | safe }}",
          "address": {
            "@type": "PostalAddress",
            "addressLocality": "{{ location | safe }}"
          }
        },{% endif %}
        "organizer": {
          "@type": "Person",
          "name": "Giselle Monbiot",
          "url": "{{ env.site }}/about-giselle-monbiot-integrative-therapist-and-breathwork-facilitator/"
        },
        "eventStatus": "https://schema.org/EventScheduled",
        "eventAttendanceMode": "https://schema.org/OfflineEventAttendanceMode",
        {% if price %}"offers": {
          "@type": "Offer",
          "url": "{{ bookingLink | safe }}",
          "availability": "https://schema.org/InStock"
        },{% endif %}
        "performer": {
          "@type": "Person",
          "name": "Giselle Monbiot"
        }
      }
      {% endif %}

    {% elseif seoSchemaPageType == 'Article' %}

      {# Article JSON ld #}

      {
        "@context": "https://schema.org",
        "@type": "Article",
        "headline": "{{ seoTitle | safe }}",
        "description": "{{ description }}",
        "image": "{% if cardImage %}{{ env.site }}{{ cardImage }}{% else %}{{ env.site }}/android-chrome-512x512.png{% endif %}",
        "author": {
          "@type": "Person",
          "name": "{{ settings.author }}",
          "url": "{{ env.site }}/about-giselle-monbiot-integrative-therapist-and-breathwork-facilitator/"
        },
        "publisher": {
          "@type": "Organization",
          "name": "{{ env.site }}",
          "logo": {
            "@type": "ImageObject",
            "url": "{{ env.site }}/android-chrome-512x512.png"
          }
        },
        "datePublished": "{{ date | iso8601 | safe }}",
        "dateModified": "{{ date | iso8601 | safe }}",
        "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "{{ env.site }}/{{ title | slugify }}/"
        }
      }

    {% elseif seoSchemaPageType == 'Contact' %}

      {# Contact JSON ld #}      

      {
        "@context": "https://schema.org",
        "@type": "ContactPage",
        "name": "{{ settings.siteName }}",
        "url": "{{ canonical }}",
        "description": "{{ description }}"
      }

      {% elseif seoSchemaPageType == 'NewsIndex' %}

      {# News Index JSON ld #}      

      {
        "@context": "https://schema.org",
        "@type": "CollectionPage",
        "name": "News & Articles",
        "description": "{{ description }}",
        "url": "{{ canonical }}"
      }

    {% else %}

      {# WebSite JSON ld #}

      {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "{{ settings.siteName }}",
        "url": "{{ canonical }}",
        "description": "{{ description }}"
      }

    {% endif %}

  </script>

{% endmacro %}
